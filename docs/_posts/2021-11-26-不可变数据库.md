刚刚读 [Database System Concepts](https://www.db-book.com/) 提到数据库一致性原则举了一个转账的例子。突然想到是不是可以设计一个不可变数据的数据库。查了一下发现真有这种东西，只不过功能使用比较局限，只用来记日志这种真的不需要变的数据。

众所周知，函数式编程的一大特性就是不可变数据结构，并且函数式编程语言本身是图灵完备的，功能没什么局限性。不可变数据结构并没有让函数式编程语言丢掉表达能力。

数据库本身与内存中的变量没有什么本质的区别，无非是存储介质和数据的生命周期不同，没理由编程语言中能实现的东西数据库实现不了。

如果之后有时间，我很细想探索下能完成一般数据库所需功能的不可变数据库的可能性。

现在临时想到的有：
- 不可变数据库只有增加和查询，没有删除和修改
- 使用增加数据修改的记录代替实际修改数据
- 用函数式编程处理不可变数据结构的方式优化效率
- 提供一个对标 SQL 的数据操作模型
